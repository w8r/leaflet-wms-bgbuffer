!function(e){var i;if("function"==typeof define&&define.amd)define(["leaflet"],e);else if("undefined"!=typeof module)i=require("leaflet"),module.exports=e(i);else{if("undefined"==typeof window.L)throw new Error("Leaflet must be loaded first");e(window.L)}}(function(e){"use strict";e.TileLayer.WMS.mergeOptions({redrawBuffer:!0}),e.TileLayer.WMS.include({redraw:function(){if(this._map){if(this.options.redrawBuffer){var e=this._tileContainer;this._clearBgBuffer(),this._tileContainer=this._bgBuffer,this._bgBuffer=e,this._tiles={},this._tilesToLoad=0,this._tilesTotal=0}else this._reset({hard:!0});this._update()}return this},_initContainer:function(){this._animated=this._animated||this.options.redrawBuffer,e.TileLayer.prototype._initContainer.call(this)},tilesLoaded:function(){for(var e in this._tiles)if(this._tiles.hasOwnProperty(e)&&!this._tiles[e].complete)return!1;return!0}})});