!function(e){var i;if("function"==typeof define&&define.amd)define(["leaflet"],e);else if("undefined"!=typeof module)i=require("leaflet"),module.exports=e(i);else{if("undefined"==typeof window.L)throw new Error("Leaflet must be loaded first");e(window.L)}}(function(e){"use strict";e.TileLayer.WMS.include({onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,e.TileLayer.prototype.onAdd.call(this,i)},redraw:function(){var e=this._tileContainer;this._clearBgBuffer(),this._tileContainer=this._bgBuffer,this._bgBuffer=e,this._tiles={},this._tilesToLoad=0,this._tilesTotal=0,this._update()},_initContainer:function(){this._animated=!0,e.TileLayer.prototype._initContainer.call(this)},tilesLoaded:function(){for(var e in this._tiles)if(this._tiles.hasOwnProperty(e)&&!this._tiles[e].complete)return!1;return!0}})});